<%= form_with model: [ @article, @article.comments.build] do |f| %>
  <p>
    <%= f.label :commenter %><br>
    <% if @user %>
      <%= f.text_field :commenter, value: @user[:nickname] || @user["nickname"] %>
    <% else %>
      <%= f.text_field :commenter %>
    <% end %>
  </p>

  <p>
    <%= f.label :body %><br>
    <%= f.text_area :body %>
  </p>

  <div>
    <%= f.label :status %> <br>
    <%= f.select :status, Visible::VALID_STATUSES, selected: "public" %>
  </div>

  <p>
    <%= f.submit %>
  </p>

<% end %>